# Team membership
- user: user:alice
  relation: admin
  object: team:platform
- user: user:bob
  relation: member
  object: team:platform
- user: user:charlie
  relation: member
  object: team:platform

# Role assignment
- user: user:diana
  relation: assignee
  object: role:viewer
- user: anonymous:anon
  relation: assignee
  object: role:viewer

# Folder hierarchy: root -> dashboards -> alerts
- user: folder:root
  relation: parent
  object: folder:dashboards
- user: folder:dashboards
  relation: parent
  object: folder:alerts

# Folder permissions
- user: user:alice
  relation: admin
  object: folder:root
- user: team:platform#member
  relation: edit
  object: folder:dashboards
- user: role:viewer#assignee
  relation: view
  object: folder:root
- user: service-account:bot
  relation: get
  object: folder:dashboards
- user: service-account:bot
  relation: update
  object: folder:root

# Folder subresource permissions (with condition)
- user: user:alice
  relation: resource_create
  object: folder:root
  condition:
    name: subresource_filter
    context:
      subresources:
        - "dashboard"
        - "library-panel"
- user: team:platform#member
  relation: resource_get
  object: folder:dashboards
  condition:
    name: subresource_filter
    context:
      subresources:
        - "dashboard"

# Folder subresource hierarchy (unconditional)
- user: user:frank
  relation: resource_admin
  object: folder:root
- user: user:charlie
  relation: resource_edit
  object: folder:dashboards
- user: user:diana
  relation: resource_view
  object: folder:dashboards

# Core type management
- user: user:alice
  relation: get
  object: user:bob
- user: service-account:bot
  relation: get
  object: user:bob
- user: team:platform#member
  relation: update
  object: user:bob

# group_resource permissions
- user: user:alice
  relation: admin
  object: group_resource:gr_dashboards
- user: render:renderer
  relation: view
  object: group_resource:gr_dashboards
- user: team:platform#member
  relation: edit
  object: group_resource:gr_dashboards

# Team subresource hierarchy
- user: user:frank
  relation: resource_admin
  object: team:platform
- user: user:eve
  relation: resource_get
  object: team:platform
  condition:
    name: subresource_filter
    context:
      subresources:
        - "dashboard"

# Resource permissions (with group_filter condition)
- user: user:alice
  relation: admin
  object: resource:res_dashboards
  condition:
    name: group_filter
    context:
      group_resource: "grafana"
- user: team:platform#member
  relation: view
  object: resource:res_dashboards
  condition:
    name: group_filter
    context:
      group_resource: "grafana"
- user: user:eve
  relation: get
  object: resource:res_dashboards
  condition:
    name: group_filter
    context:
      group_resource: "prometheus"
- user: service-account:monitor
  relation: edit
  object: resource:res_dashboards
  condition:
    name: group_filter
    context:
      group_resource: "grafana"

# Role subresource
- user: user:alice
  relation: resource_edit
  object: role:editor
